{"name":"Aura of Alacrity","type":"feat","img":"icons/skills/movement/feet-winged-boots-brown.webp","effects":[{"_id":"2clgap6djsy9eun2","changes":[{"key":"system.attributes.movement.walk","mode":2,"value":"10","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/skills/movement/feet-winged-boots-brown.webp","label":"Aura of Alacrity","origin":"Actor.XhIWoWzMyMzFK5FU.Item.8TLpbFnPykVWRRwa","transfer":true,"flags":{"core":{"statusId":"1"},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":true,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":true,"aura":"Allies","radius":5,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":2203086,"type":"class","dndbeyond":{"requiredLevel":7,"displayOrder":3,"levelScale":{"id":266710,"level":7,"description":"Aura of Alacrity (Range 5 feet)","dice":null,"fixedValue":5},"levelScales":[{"id":266710,"level":7,"description":"Aura of Alacrity (Range 5 feet)","dice":{"diceCount":null,"diceValue":null,"diceMultiplier":null,"fixedValue":null,"diceString":null},"fixedValue":5},{"id":266711,"level":18,"description":"Aura of Alacrity (range 10 feet)","dice":{"diceCount":null,"diceValue":null,"diceMultiplier":null,"fixedValue":null,"diceString":null},"fixedValue":10}],"limitedUse":[],"class":"Paladin : Oath of Glory"},"class":"Paladin","subclass":"Oath of Glory","importId":"lkdgypqhrbwo10lx"},"obsidian":{"source":{"type":"class","text":"Paladin"}},"scene-packer":{"hash":"916aed0ea4bdfe1f141791556381e3db671b77a7","sourceId":"Item.Mhlez0HNjTrqcioa"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"core":{"sourceId":"Item.IymI4xM6Du0DvYhg"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p><em>[PLACE YOUR DESCRIPTION HERE]</em></p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"MOoT p29","activation":{"type":"","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":null,"recovery":""},"consume":{"type":"","target":null,"amount":null},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Paladin : Oath of Glory","recharge":{"value":null,"charged":false},"attunement":null},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286488,"modifiedTime":1671805171923,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"FQvaKFrgwF1fWdbg"}
{"name":"Auto Divine Fury","type":"feat","img":"icons/magic/fire/projectile-wave-arrow.webp","effects":[{"_id":"BPyKtcWCBpuwouN9","changes":[{"key":"flags.dae","mode":0,"value":"autoDivineFury 1","priority":10}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/fire/projectile-wave-arrow.webp","label":"Auto Divine Fury","origin":"Item.x0Obbisd7EriI1UU","transfer":true,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":true},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false}},"tint":null}],"flags":{"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"favtab":{"isFavorite":false},"cf":null,"core":{"sourceId":"Compendium.midi-qol.midiqol-sample-items.uvRQayOyn61L6vOV"},"scene-packer":{"hash":"370dad0cafacc0a0db2b497710589878b3b63c28","sourceId":"Item.rkofBOz9EUgalF4s"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary>VERSION INFO</summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"XGtE p11","activation":{"type":"action","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":null,"long":null,"units":""},"uses":{"value":0,"max":"0","per":"","recovery":""},"consume":{"type":"","target":"","amount":null},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":null},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Barbarian Zealot Path","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286504,"modifiedTime":1671805171931,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"WNQJSYCXQVxzDfE3"}
{"name":"Channel Divinity: Inspiring Smite","type":"feat","img":"icons/magic/holy/barrier-shield-winged-blue.webp","effects":[{"_id":"mj8jXTYFLF8zANxn","changes":[{"key":"macro.itemMacro","mode":0,"value":"ItemMacro","priority":50}],"disabled":false,"duration":{"startTime":null,"turns":1,"seconds":null,"combat":null,"rounds":null,"startRound":null,"startTurn":null},"icon":"icons/magic/life/heart-cross-blue.webp","label":"Inspiring Smite Healing Pool","origin":"Item.D5SPoopIkNLJ3PyB","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false}},"tint":null}],"flags":{"scene-packer":{"hash":"94fa30ae2854d091e6b75792dd9e6ea67c747d06","sourceId":"Item.h3C3TVjtPEyRI2jM"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"core":{"sourceId":"Item.D5SPoopIkNLJ3PyB"},"itemacro":{"macro":{"data":{"_id":null,"name":"Channel Divinity: Inspiring Smite","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nChannel Divinity: Inspiring Smite\n\nUSE: Manually triggered after to hit with divine smite\nCreate a healing pool - roll 2d8 + class level\nStore the healing pool on the character in a DAE variable that terminates at the end of the actors turn\n\nv1.1 August 6 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0] === \"on\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n\n    // Test Class\n    let pcPaladin = pcActor.getRollData().classes?.paladin;\n    if (pcPaladin === null) {\n        ui.notifications.error(\"You are not a Paladin!\");\n        return;\n    }\n\n    // Test Subclass\n    let pcPaladinSubclass = pcActor.getRollData().classes.paladin?.subclass.identifier;\n    if (pcPaladinSubclass != \"oath-of-glory\") {\n        ui.notifications.error(\"You are not a Oath of Glory Paladin!\");\n        return;\n    }\n\n    //roll 2d8 + pcPaladin.levels and store result in flag.dae.healingPool\n    const roll = await(new Roll(`2d8 + ${pcPaladin.levels}`)).roll();\n    pcActor.setFlag(\"dae\", \"healingpool\", roll.total);\n    return;\n\n} else if (args[0] === \"off\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n    pcActor.unsetFlag(\"dae\", \"healingpool\");\n    return;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Channel Divinity: Inspiring Smite","type":"script","scope":"global","command":"/*****\nChannel Divinity: Inspiring Smite\n\nUSE: Manually triggered after to hit with divine smite\nCreate a healing pool - roll 2d8 + class level\nStore the healing pool on the character in a DAE variable that terminates at the end of the actors turn\n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0] === \"on\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n\n    // Test Class\n    let pcPaladin = pcActor.getRollData().classes?.paladin;\n    if (pcPaladin === null) {\n        ui.notifications.error(\"You are not a Paladin!\");\n        return;\n    }\n\n    // Test Subclass\n    let pcPaladinSubclass = pcActor.getRollData().classes.paladin?.subclass.identifier;\n    if (pcPaladinSubclass != \"oath-of-glory\") {\n        ui.notifications.error(\"You are not a Oath of Glory Paladin!\");\n        return;\n    }\n\n    //roll 2d8 + pcPaladin.levels and store result in flag.dae.healingPool\n    const roll = await(new Roll(`2d8 + ${pcPaladin.levels}`)).evaluate({async: true});\n    pcActor.setFlag(\"dae\", \"healingpool\", roll.total);\n    return;\n\n} else if (args[0] === \"off\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n    pcActor.unsetFlag(\"dae\", \"healingpool\");\n    return;\n}","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"favtab":{"isFavorite":true},"cf":{"id":"temp_92357bvnxs9"},"ddbimporter":{"pack":"world.ddb-override","id":"1731654","entityTypeId":"222216831","componentId":2203085,"componentTypeId":12168134,"class":"Paladin","subclass":"Oath of Glory","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1},{"level":null,"uses":1}]},"importId":"7hbudetkus7tdkj4","originalItemName":"Channel Divinity: Inspiring Smite","replaced":true},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.3"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"MOoT p.29","activation":{"type":"special","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"charges","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Paladin: Oath of Glory","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286496,"modifiedTime":1671805171942,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"UenRnzf6CfFFlPND"}
{"name":"Channel Divinity: Path of the Grave","type":"feat","img":"icons/magic/holy/barrier-shield-winged-blue.webp","effects":[{"_id":"Xkk83MdPGWwWb2yX","changes":[{"key":"system.traits.dv.all","mode":0,"value":"1","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/death/grave-tombstone-glow-teal.webp","label":"Path to the Grave","origin":"Item.xJ3uiHOSl6ZDElTz","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":["isDamaged"],"transfer":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false}},"tint":null}],"flags":{"ddbimporter":{"id":216,"data":{"id":216,"name":"Remarkable Athlete","prerequisite":null,"description":"<p class=\"compendium-hr\">Starting at 7th level, you can add half your proficiency bonus (round up) to any Strength, Dexterity, or Constitution check you make that doesn’t already use your proficiency bonus.</p>\r\n<p class=\"Core-Styles_Core-Body\">In addition, when you make a running long jump, the distance you can cover increases by a number of feet equal to your Strength modifier.</p>","requiredLevel":7,"displayOrder":2},"version":"2.9.8","featureId":216,"requiredLevel":7,"prerequisite":null,"class":"Champion","classId":16,"subClass":"Champion"},"obsidian":{"source":{"type":"class","text":"Champion"}},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"core":{"sourceId":"Compendium.world.ddb-class-features.7rTzj1cBRBDKOb7R"},"scene-packer":{"hash":"12270773c7e2abeb4d5a59de2743d2da3643352d","sourceId":"Item.hskQTbnMnRhKrIAC"},"cf":null,"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"XGtE p20","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"creature"},"range":{"value":30,"long":null,"units":"ft"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"attribute","target":"","amount":1},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Cleric: Grave Domain","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286530,"modifiedTime":1671805171947,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"2r41yj33zY1zVee9"}
{"name":"Channel Divinity: Peerless Athlete","type":"feat","img":"icons/magic/holy/barrier-shield-winged-blue.webp","effects":[{"_id":"Xkk83MdPGWwWb2yX","changes":[{"key":"flags.midi-qol.advantage.skill.acr","mode":5,"value":"1","priority":20},{"key":"flags.midi-qol.advantage.skill.ath","mode":5,"value":"1","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":600,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/creatures/abilities/lion-roar-yellow.webp","label":"Peerless Athlete","origin":"Item.xJ3uiHOSl6ZDElTz","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":false,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":216,"data":{"id":216,"name":"Remarkable Athlete","prerequisite":null,"description":"<p class=\"compendium-hr\">Starting at 7th level, you can add half your proficiency bonus (round up) to any Strength, Dexterity, or Constitution check you make that doesn’t already use your proficiency bonus.</p>\r\n<p class=\"Core-Styles_Core-Body\">In addition, when you make a running long jump, the distance you can cover increases by a number of feet equal to your Strength modifier.</p>","requiredLevel":7,"displayOrder":2},"version":"2.9.8","featureId":216,"requiredLevel":7,"prerequisite":null,"class":"Champion","classId":16,"subClass":"Champion"},"obsidian":{"source":{"type":"class","text":"Champion"}},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"core":{"sourceId":"Compendium.world.ddb-class-features.7rTzj1cBRBDKOb7R"},"scene-packer":{"hash":"ed3772e3ed6923fd09a0d49dccee30998fc1f949","sourceId":"Item.2zjof0xegnFaVAi9"},"cf":null,"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"MOoT p.29","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"attribute","target":"","amount":1},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Paladin Oath of Glory","recharge":{"value":null,"charged":false},"attunement":null},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286525,"modifiedTime":1671805171953,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"LOnpSNSwFg2tDKZy"}
{"name":"Channel Divinity: Preserve Life","type":"feat","img":"icons/magic/holy/barrier-shield-winged-blue.webp","effects":[{"_id":"z5emxm04jk40kp3k","changes":[{"key":"macro.itemMacro","mode":0,"value":"ItemMacro","priority":20}],"disabled":false,"duration":{"startTime":null,"turns":1,"seconds":null,"combat":null,"rounds":null,"startRound":null,"startTurn":null},"icon":"icons/magic/light/orb-beams-green.webp","label":"Channel Divinity: Preserve Life","origin":"Actor.XymBtQnn8lRHXvt6.Item.hqvE87WW1vGTGreC","transfer":false,"flags":{"dae":{"selfTarget":false,"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":false,"selfTargetAlways":false},"core":{"statusId":""},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":"53343","entityTypeId":"222216831","componentId":132,"componentTypeId":12168134,"class":"Cleric","subclass":"Life Domain","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"v4ymwgpll4j2cos8"},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Cleric"}},"scene-packer":{"hash":"e93a43e1ba5d0bc67e6d218a8e1adcb549238684","sourceId":"Item.8h1ZkzYa8KmEQZ8W"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"itemacro":{"macro":{"data":{"_id":null,"name":"Channel Divinity: Preserve Life","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nChannel Divinity: Preserve Life\n\nUSE: Manually triggered Preserve Life to use the available healing pool on the target\nCreate a healing pool \nStore the healing pool on the character in a DAE variable that terminates at the end of the actors turn\n\nv1.0 August 17 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0] === \"on\") {\n    const pcActor = token.actor; \n    // Test Class\n    let pcCleric = pcActor.getRollData().classes?.cleric;\n    if (pcCleric === null) {\n        ui.notifications.error(\"You are not a cleric!\");\n        return;\n    }\n\n    // Test Subclass\n    let pcClericSubclass = pcActor.getRollData().classes.cleric?.subclass.identifier;\n    if (pcClericSubclass != \"life-domain\") {\n        ui.notifications.error(\"You are not a Life Domain cleric!\");\n        return;\n    }\n\n    //5x cleric level healing pool\n    const pool = 5 * pcCleric.levels;\n    pcActor.setFlag(\"dae\", \"lifehealingpool\", pool);\n    return;\n\n} else if (args[0] === \"off\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n    pcActor.unsetFlag(\"dae\", \"lifehealingpool\");\n    return;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Channel Divinity: Preserve Life","type":"script","scope":"global","command":"/*****\nChannel Divinity: Preserve Life\n\nUSE: Manually triggered Preserve Life to use the available healing pool on the target\nCreate a healing pool \nStore the healing pool on the character in a DAE variable that terminates at the end of the actors turn\n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0] === \"on\") {\n    const pcActor = token.actor;\n    // Test Class\n    let pcCleric = pcActor.getRollData().classes?.cleric;\n    if (pcCleric === null) {\n        ui.notifications.error(\"You are not a cleric!\");\n        return;\n    }\n\n    // Test Subclass\n    let pcClericSubclass = pcActor.getRollData().classes.cleric?.subclass.identifier;\n    if (pcClericSubclass != \"life-domain\") {\n        ui.notifications.error(\"You are not a Life Domain cleric!\");\n        return;\n    }\n\n    //5x cleric level healing pool\n    const pool = 5 * pcCleric.levels;\n    pcActor.setFlag(\"dae\", \"lifehealingpool\", pool);\n    return;\n\n} else if (args[0] === \"off\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n    pcActor.unsetFlag(\"dae\", \"lifehealingpool\");\n    return;\n}","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"favtab":{"isFavorite":true},"core":{"sourceId":"Item.bPoUIdDoPJd5Tc2X"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.3"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 August 17 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>\n<p> </p>","chat":"","unidentified":""},"source":"PHB p194","activation":{"type":"special","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"charges","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Cleric","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286491,"modifiedTime":1671805171956,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"02xIBIkqUCXtpfCO"}
{"name":"Channel Divinity: Radiance of the Dawn","type":"feat","img":"icons/magic/holy/barrier-shield-winged-blue.webp","effects":[],"flags":{"ddbimporter":{"id":"53344","entityTypeId":"222216831","componentId":138,"componentTypeId":12168134,"class":"Cleric","subclass":"Light Domain","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"cjwzq7lf48igj2ev","ignoreIcon":false,"ignoreItemImport":false,"retainResourceConsumption":true},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Cleric"}},"scene-packer":{"hash":"f76519640f96acf4dce01dd978965c5406bb2e82","sourceId":"Item.bko6opAomW9diM8u"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"midi-qol":{"effectActivation":false,"onUseMacroName":""},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":true,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"core":{"sourceId":"Item.BvxA3rBt3nvjgMti"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB p61","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"enemy"},"range":{"value":30,"long":null,"units":"ft"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"charges","target":"","amount":1},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["2d10[radiant] + @classes.cleric.levels","radiant"]],"versatile":"","value":""},"formula":"","save":{"ability":"con","dc":null,"scaling":"spell"},"requirements":"Cleric: Light","recharge":{"value":null,"charged":false},"attunement":null},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286534,"modifiedTime":1671805171958,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"vTGRWmSJm3CuhXHc"}
{"name":"Channel Divinity: Turn Undead","type":"feat","img":"icons/magic/holy/barrier-shield-winged-blue.webp","effects":[{"_id":"3adv1867dmy3nrmn","changes":[{"key":"flags.midi-qol.onUseMacroName","mode":0,"value":"ItemMacro.\"Channel Divinity: Turn Undead\",all","priority":1}],"disabled":false,"duration":{"startTime":null,"seconds":60,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/death/skull-humanoid-white-blue.webp","label":"Channel Divinity: Turn Undead","origin":"Actor.4okcHmPmM1iBwyFs.Item.0Gd8ADfg2sOZyTyq","transfer":false,"flags":{"core":{"statusId":"true"},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":false,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"scene-packer":{"hash":"e24ece7a55f9de689e13bfec46912775238c34b3","sourceId":"Item.mfOrCKB6p1puoaUP"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"midi-qol":{"effectActivation":false,"forceCEOff":false,"onUseMacroName":"[all]ItemMacro"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"core":{"sourceId":"Item.r5SIR5IwtjxLYHvO"},"itemacro":{"macro":{"data":{"_id":null,"name":"Channel Divinity: Turn Undead","type":"script","author":"KBnld8ZLhMcDSTkg","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nCleric: Turn Undead\n\nUSEAGE : ACTIVATE TO CHANNEL DIVINITY : TURN UNDEAD\nClick on this item to activate the turn undead.  \nPlease remember to setup usage consumption in the itme itself.  \n\nThis Macro requires a GAME LEVEL MACRO: MAKE DEAD \n\nv1.4 August 13 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n// if (!game.modules.get(\"warpgate\")?.active) return ui.notifications.error(\"Turn Undead requires warpgate module\");\n\nif (args[0].macroPass === \"preambleComplete\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    // I am stealing the activation condition as a string for the creature type I want to hit\n    const activationCondition = args[0].itemData.data.activation.condition.toLowerCase();\n    let immunity = [\"Turn Immunity\"];\n    for (let target of workflow.targets) {\n        let creatureType = target.actor.data.data.details.type;\n        // remove targets that are not creatures (aka PCs etc)\n        if ((creatureType === null) || (creatureType === undefined)) {\n            workflow.targets.delete(target);\n        }\n        // remove creatures that are not undead \n        else if (!([creatureType.value.toLowerCase(), creatureType.subtype.toLowerCase()].includes(activationCondition.toLowerCase()))) {\n            workflow.targets.delete(target);\n        }\n        // remove creatures with turn immunity\n        else if (target.actor.items.find(i => immunity.includes(i.name))) {\n            workflow.targets.delete(target);\n        }\n\n        // check for i, if so give advanatage on tragets next save\n        let resistance = [\"Turn Resistance\"];\n        if (target.actor.items.find(i => resistance.includes(i.name))) {\n            // add resistance to next save \n            await markTurnResistance(target.actor, args);\n        }\n\n        game.user.updateTokenTargets(Array.from(workflow.targets).map(t => t.id));\n    }\n} else if (args[0].macroPass === \"postSave\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    const pcActor = workflow.actor;\n\n    let crDestroy = 0.0;\n    if (workflow.targets.size === 0) return;\n    let actorClass = pcActor.classes.cleric.data.data.levels;\n    if (actorClass > 16) crDestroy = 4;\n    else if (actorClass > 13) crDestroy = 3;\n    else if (actorClass > 10) crDestroy = 2;\n    else if (actorClass > 7) crDestroy = 1;\n    else if (actorClass > 4) crDestroy = 0.5;\n\n    // set HP = 0 for all targets of the CR or less that have been turned\n    for (let target of workflow.failedSaves) {\n        if (target.actor.data.data.details.cr < crDestroy) {\n            //let target = failedSave.actor;\n            let maxHP = Number(target.actor.data.data.attributes.hp.max);\n            let updates = {\n                actor: { \"data.attributes.hp.value\": 0, \"data.attributes.hp.max\": maxHP }\n            };\n            let mutateCallbacks = \"\";\n            await warpgate.mutate(target.document, updates, mutateCallbacks, { permanent: true });\n        } else {\n            // set frightened for all those undead above the CR that were not destoryed\n            console.log(\"MACRO TEST | target actor: %O\", target.actor);\n            console.log(\"MACRO TEST | add frightened: %O\", target);\n            let thisActor = target.uuid;\n            game.dfreds.effectInterface.addEffect({ effectName: 'Frightened', thisActor });\n        }\n    }\n    return;\n}\n\n// if the character has resistance to the new damage type, set vulnerability to negate it\nasync function markTurnResistance(target, args) {\n    const effectData = {\n        label: \"Turn Resistance\",\n        icon: \"systems/dnd5e/icons/skills/affliction_21.jpg\",\n        origin: args.uuid,\n        changes: [{\n            \"key\": \"flags.midi-qol.advantage.ability.check.wis\",\n            \"value\": 1,\n            \"mode\": 0,\n            \"priority\": 20\n        }],\n        disabled: false,\n        flags: {\n            dae: {\n                specialDuration: [\"isSave\"]\n            }\n        }\n    }\n    await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: target.uuid, effects: [effectData] });\n    return;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Channel Divinity: Turn Undead","type":"script","scope":"global","command":"/*****\nCleric: Turn Undead\n\nUSEAGE : ACTIVATE TO CHANNEL DIVINITY : TURN UNDEAD\nClick on this item to activate the turn undead.  \nPlease remember to setup usage consumption in the itme itself.  \n\nThis Macro requires a GAME LEVEL MACRO: MAKE DEAD \n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n// if (!game.modules.get(\"warpgate\")?.active) return ui.notifications.error(\"Turn Undead requires warpgate module\");\n\nif (args[0].macroPass === \"preambleComplete\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    // I am stealing the activation condition as a string for the creature type I want to hit\n    const activationCondition = args[0].itemData.system.activation.condition.toLowerCase();\n    let immunity = [\"Turn Immunity\"];\n    for (let target of workflow.targets) {\n        let creatureType = target.actor.system.details.type;\n        // remove targets that are not creatures (aka PCs etc)\n        if ((creatureType === null) || (creatureType === undefined)) {\n            workflow.targets.delete(target);\n        }\n        // remove creatures that are not undead \n        else if (!([creatureType.value.toLowerCase(), creatureType.subtype.toLowerCase()].includes(activationCondition.toLowerCase()))) {\n            workflow.targets.delete(target);\n        }\n        // remove creatures with turn immunity\n        else if (target.actor.items.find(i => immunity.includes(i.name))) {\n            workflow.targets.delete(target);\n        }\n\n        // check for i, if so give advanatage on tragets next save\n        let resistance = [\"Turn Resistance\"];\n        if (target.actor.items.find(i => resistance.includes(i.name))) {\n            // add resistance to next save \n            await markTurnResistance(target.actor, args);\n        }\n\n        game.user.updateTokenTargets(Array.from(workflow.targets).map(t => t.id));\n    }\n} else if (args[0].macroPass === \"postSave\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    const pcActor = workflow.actor;\n\n    let crDestroy = 0.0;\n    if (workflow.targets.size === 0) return;\n    let actorClass = pcActor.classes.cleric.system.levels;\n    if (actorClass > 16) crDestroy = 4;\n    else if (actorClass > 13) crDestroy = 3;\n    else if (actorClass > 10) crDestroy = 2;\n    else if (actorClass > 7) crDestroy = 1;\n    else if (actorClass > 4) crDestroy = 0.5;\n\n    // set HP = 0 for all targets of the CR or less that have been turned\n    for (let target of workflow.failedSaves) {\n        if (target.actor.system.details.cr < crDestroy) {\n            //let target = failedSave.actor;\n            let maxHP = Number(target.actor.system.attributes.hp.max);\n            let updates = {\n                actor: { \"data.attributes.hp.value\": 0, \"data.attributes.hp.max\": maxHP }\n            };\n            let mutateCallbacks = \"\";\n            await warpgate.mutate(target.document, updates, mutateCallbacks, { permanent: true });\n        }\n    }\n    return;\n}\n\n// if the character has resistance to the new damage type, set vulnerability to negate it\nasync function markTurnResistance(target, args) {\n    const effectData = {\n        label: \"Turn Resistance\",\n        icon: \"systems/dnd5e/icons/skills/affliction_21.jpg\",\n        origin: args.uuid,\n        changes: [{\n            \"key\": \"flags.midi-qol.advantage.ability.check.wis\",\n            \"value\": 1,\n            \"mode\": 0,\n            \"priority\": 20\n        }],\n        disabled: false,\n        flags: {\n            dae: {\n                specialDuration: [\"isSave\"]\n            }\n        }\n    }\n    await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: target.uuid, effects: [effectData] });\n    return;\n}","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.3"},"cf":{"id":"temp_92357bvnxs9","path":"Class Features","color":"#0000ff"},"favtab":{"isFavorite":true},"ddbimporter":{"pack":"world.ddb-override","id":"74143","entityTypeId":"222216831","componentId":110,"componentTypeId":12168134,"class":"Cleric","subclass":"Grave Domain","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1},{"level":null,"uses":1}]},"importId":"h0fgg2cviptcizbi","originalItemName":"Channel Divinity: Turn Undead","replaced":true},"siftoolkit":{"SIFData":{"ignoreDuration":false,"texture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true,"playTemplateAudio":false,"playDamageAudio":false,"playSaveAudio":false,"clip":"","volume":100}}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.4 August 13 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB p194","activation":{"type":"action","cost":1,"condition":"undead"},"duration":{"value":null,"units":"inst"},"target":{"value":30,"width":null,"units":"ft","type":"creature"},"range":{"value":null,"long":null,"units":"spec"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"charges","target":"","amount":null},"ability":"","actionType":"other","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Cleric","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286536,"modifiedTime":1671805171962,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"bOo1LwIzJ90URlYb"}
{"name":"Circle of Mortality","type":"feat","img":"icons/skills/wounds/blood-cells-disease-green.webp","effects":[{"_id":"1jud0luaqrwjayvy","changes":[{"key":"flags.midi-qol.onUseMacroName","mode":0,"value":"ItemMacro.Circle of Mortality,all","priority":10}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/skills/wounds/blood-cells-disease-green.webp","label":"Circle of Mortality","origin":"Actor.Uv8E8r17bCEb1o2e.Item.3aDwBUf6nDcPVKz7","transfer":true,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":true,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":"53464","entityTypeId":"222216831","componentId":664,"componentTypeId":12168134,"class":"Cleric","subclass":"Grave Domain","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"4hcm2jmz0inu7t2d","pack":"world.ddb-override","originalItemName":"Circle of Mortality","replaced":true},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Cleric"}},"scene-packer":{"hash":"17e2cd67935372a49fefc3b699753963331e40a9","sourceId":"Item.ovikQXLs6Y6zgheY"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"itemacro":{"macro":{"data":{"_id":null,"name":"Circle of Mortality","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nCircle of Mortality\n\nv1.1 August 6 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0].macroPass === \"postDamageRoll\") {\n    const workflow = MidiQOL.Workflow.getWorkflow(args[0].itemUuid);\n    let targetTokenUuid = args[0].hitTargetUuids[0];\n    let targetToken = await fromUuid(targetTokenUuid);\n    let targetActor = targetToken.actor;\n\n    // if Target HP > 0 return \n    if (targetActor.data.data.attributes.hp.value != 0) return;\n\n    // check to make sure only one target is selected\n    if ((args[0].targetUuids.length < 1) || (args[0].targetUuids.length > 1)) {\n        ui.notifications.error(\"You need to select a single target.\");\n        return;\n    }\n\n    // compute maximum healing for the spell cast\n    let healingRollMax = 0;\n    for (let i = 0; i < workflow.damageRoll.terms.length; i++)\n        if (workflow.damageRoll.terms[i]?.faces) healingRollMax = healingRollMax + (workflow.damageRoll.terms[i].faces * workflow.damageRoll.terms[i].number);\n        else if (workflow.damageRoll.terms[i]?.number) healingRollMax = healingRollMax + workflow.damageRoll.terms[i].number;\n    let bonusHealing = (healingRollMax - workflow.damageRoll.total);\n    await setProperty(workflow, \"BonusHealing\", bonusHealing);\n\n    return;\n\n} else if (args[0].tag === \"DamageBonus\") {\n    console.log(\"MACRO | bonus healing application\");\n    const workflow = MidiQOL.Workflow.getWorkflow(args[0].itemUuid);\n    const actorUuid = workflow.tokenUuid;\n    const actorToken = canvas.tokens.get(workflow.tokenId);\n    let bonusHealing = await getProperty(workflow, \"BonusHealing\");\n\n    // Bonus Healing\n    if (bonusHealing > 0) {\n        await setProperty(workflow, \"BonusHealing\", 0);\n        return { damageRoll: `${bonusHealing}[healing]`, flavor: \"Circle of Mortality Bonus Healing\" };\n    } else return;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Circle of Mortality","type":"script","scope":"global","command":"/*****\nCircle of Mortality\n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0].macroPass === \"postDamageRoll\") {\n    const workflow = MidiQOL.Workflow.getWorkflow(args[0].itemUuid);\n    let targetTokenUuid = args[0].hitTargetUuids[0];\n    let targetToken = await fromUuid(targetTokenUuid);\n    let targetActor = targetToken.actor;\n\n    // if Target HP > 0 return \n    if (targetActor.system.attributes.hp.value != 0) return;\n\n    // check to make sure only one target is selected\n    if ((args[0].targetUuids.length < 1) || (args[0].targetUuids.length > 1)) {\n        ui.notifications.error(\"You need to select a single target.\");\n        return;\n    }\n\n    // compute maximum healing for the spell cast\n    let healingRollMax = 0;\n    for (let i = 0; i < workflow.damageRoll.terms.length; i++)\n        if (workflow.damageRoll.terms[i]?.faces) healingRollMax = healingRollMax + (workflow.damageRoll.terms[i].faces * workflow.damageRoll.terms[i].number);\n        else if (workflow.damageRoll.terms[i]?.number) healingRollMax = healingRollMax + workflow.damageRoll.terms[i].number;\n    let bonusHealing = (healingRollMax - workflow.damageRoll.total);\n    await setProperty(workflow, \"BonusHealing\", bonusHealing);\n\n    return;\n\n} else if (args[0].tag === \"DamageBonus\") {\n    const workflow = MidiQOL.Workflow.getWorkflow(args[0].itemUuid);\n    const actorUuid = workflow.tokenUuid;\n    const actorToken = canvas.tokens.get(workflow.tokenId);\n    let bonusHealing = await getProperty(workflow, \"BonusHealing\");\n\n    // Bonus Healing\n    if (bonusHealing > 0) {\n        await setProperty(workflow, \"BonusHealing\", 0);\n        return { damageRoll: `${bonusHealing}[healing]`, flavor: \"Circle of Mortality Bonus Healing\" };\n    } else return;\n}","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"favtab":{"isFavorite":true},"core":{"sourceId":"Item.edUabd3mcVcUaLtm"},"cf":{"id":"temp_92357bvnxs9"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.3"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"You restore maximum possible HP on each dice (instead of rolling) with healing spells to a creature with 0 HP. You learn the spare the dying cantrip, can cast it as a bonus action, and it has a range of 30 ft.","unidentified":""},"source":"XGtE p20","activation":{"type":"special","cost":null,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Cleric: Grave Domain","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286449,"modifiedTime":1671805171964,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"KncFRbXM7OpqvMF0"}
{"name":"Divine Fury","type":"feat","img":"icons/magic/fire/projectile-wave-arrow.webp","effects":[{"_id":"YJK1tQQIV2Ycrqy0","changes":[{"key":"flags.dnd5e.DamageBonusMacro","mode":0,"value":"ItemMacro.Divine Fury","priority":30}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/fire/projectile-wave-arrow.webp","label":"Divine Fury","origin":"Item.5PUe0GiheEHUomoR","transfer":true,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":true},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false}},"tint":null}],"flags":{"scene-packer":{"hash":"e8c30e8f3bff4913ed4812b9d005af0cbab248ff","sourceId":"Item.WNdhwMcS4efx0nDt"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Divine Fury","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nDivine Fury | Auto Divine Fury  [there are two items to make this function]\n\nNOTE: I used Tom Posney's MIDI-QOL Sneak Attack / Auto Sneak Attack as a templete for this\n\nUSEAGE : PASSIVE\nPlease place these two items on a Barbarian Zealot the rest is automated\n \nv1.1 August 6 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif ([\"mwak\", \"rwak\"].includes(args[0].item.data.actionType)) {\n    let pcActor = token.actor;\n\n    // Test Class\n    let pcBarbarian = pcActor.getRollData().classes?.barbarian;\n    if (pcBarbarian === null) {\n        ui.notifications.error(\"You are not a Barbarian!\");\n        return;\n    }\n\n    // Test Subclass\n    let pcBarbarianSubclass = pcActor.getRollData().classes.barbarian?.subclass.identifier;\n    if (pcBarbarianSubclass != \"path-of-the-zealot\") {\n        ui.notifications.error(\"You are not a Barbarian Zealot!\");\n        return;\n    }\n\n    // Test if rage is active\n    let effect = await findEffect(token, \"Rage\");\n    if (!effect) {\n        ui.notifications.error(\"You are not Raging!\");\n        return;\n    }\n\n    // Check to see if you have already made a divine fury attack this round\n    if (game.combat) {\n        const combatTime = `${game.combat.id}-${game.combat.round + game.combat.turn / 100}`;\n        const lastTime = actor.getFlag(\"midi-qol\", \"divineFuryTime\");\n        if (combatTime === lastTime) return {};  // already used divine fury this round\n    }\n\n    // check to see if autoDivineFury is active, if it is skip the prompt\n    let useDivineFury = getProperty(actor.data, \"flags.dae.autoDivineFury\");\n    if (!useDivineFury) {\n        console.log(\"MACRO | prompt user with dialog to use Divine Fury\");\n        let dialog = new Promise((resolve, reject) => {\n            new Dialog({\n                // localize this text\n                title: \"Conditional Damage\",\n                content: `<p>Use Divine Fury?</p>`,\n                buttons: {\n                    one: {\n                        icon: '<i class=\"fas fa-check\"></i>',\n                        label: \"Confirm\",\n                        callback: () => resolve(true)\n                    },\n                    two: {\n                        icon: '<i class=\"fas fa-times\"></i>',\n                        label: \"Cancel\",\n                        callback: () => { resolve(false) }\n                    }\n                },\n                default: \"two\"\n            }).render(true);\n        });\n        useDivineFury = await dialog;\n    }\n    if (!useDivineFury) return {};  // do not use divine fury\n\n    // the player wants to use divine fury or autoDivineFury is active\n    const diceMult = args[0].isCritical ? 2 : 1;\n    const baseDice = 1;\n    const baseBonus = Math.ceil(pcBarbarian.levels / 2);\n\n    if (game.combat) {\n        const combatTime = `${game.combat.id}-${game.combat.round + game.combat.turn / 100}`;\n        const lastTime = actor.getFlag(\"midi-qol\", \"divineFuryTime\");\n        if (combatTime !== lastTime) {\n            await actor.setFlag(\"midi-qol\", \"divineFuryTime\", combatTime)\n        }\n    }\n    return { damageRoll: `${baseDice * diceMult}d6 + ${baseBonus}`, flavor: \"Divine Fury\" };\n}\n\n// Function to test for an effect\nasync function findEffect(target, effectName) {\n    let effectUuid = null;\n    effectUuid = target?.actor.data.effects.find(ef => ef.data.label === effectName);\n    return effectUuid;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Divine Fury","type":"script","scope":"global","command":"/*****\nDivine Fury | Auto Divine Fury  [there are two items to make this function]\n\nNOTE: I used Tom Posney's MIDI-QOL Sneak Attack / Auto Sneak Attack as a templete for this\n\nUSEAGE : PASSIVE\nPlease place these two items on a Barbarian Zealot the rest is automated\n \nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif ([\"mwak\", \"rwak\"].includes(args[0].item.system.actionType)) {\n    let pcActor = token.actor;\n\n    // Test Class\n    let pcBarbarian = pcActor.getRollData().classes?.barbarian;\n    if (pcBarbarian === null) {\n        ui.notifications.error(\"You are not a Barbarian!\");\n        return;\n    }\n\n    // Test Subclass\n    let pcBarbarianSubclass = pcActor.getRollData().classes.barbarian?.subclass.identifier;\n    if (pcBarbarianSubclass != \"path-of-the-zealot\") {\n        ui.notifications.error(\"You are not a Barbarian Zealot!\");\n        return;\n    }\n\n    // Test if rage is active\n    let effect = await findEffect(pcActor, \"Rage\");\n    if (!effect) {\n        ui.notifications.error(\"You are not Raging!\");\n        return;\n    }\n\n    // Check to see if you have already made a divine fury attack this round\n    if (game.combat) {\n        const combatTime = `${game.combat.id}-${game.combat.round + game.combat.turn / 100}`;\n        const lastTime = actor.getFlag(\"midi-qol\", \"divineFuryTime\");\n        if (combatTime === lastTime) return {};  // already used divine fury this round\n    }\n\n    // check to see if autoDivineFury is active, if it is skip the prompt\n    let useDivineFury = getProperty(actor.system, \"flags.dae.autoDivineFury\");\n    if (!useDivineFury) {\n        let dialog = new Promise((resolve, reject) => {\n            new Dialog({\n                // localize this text\n                title: \"Conditional Damage\",\n                content: `<p>Use Divine Fury?</p>`,\n                buttons: {\n                    one: {\n                        icon: '<i class=\"fas fa-check\"></i>',\n                        label: \"Confirm\",\n                        callback: () => resolve(true)\n                    },\n                    two: {\n                        icon: '<i class=\"fas fa-times\"></i>',\n                        label: \"Cancel\",\n                        callback: () => { resolve(false) }\n                    }\n                },\n                default: \"two\"\n            }).render(true);\n        });\n        useDivineFury = await dialog;\n    }\n    if (!useDivineFury) return {};  // do not use divine fury\n\n    // the player wants to use divine fury or autoDivineFury is active\n    const diceMult = args[0].isCritical ? 2 : 1;\n    const baseDice = 1;\n    const baseBonus = Math.ceil(pcBarbarian.levels / 2);\n\n    if (game.combat) {\n        const combatTime = `${game.combat.id}-${game.combat.round + game.combat.turn / 100}`;\n        const lastTime = actor.getFlag(\"midi-qol\", \"divineFuryTime\");\n        if (combatTime !== lastTime) {\n            await actor.setFlag(\"midi-qol\", \"divineFuryTime\", combatTime)\n        }\n    }\n    return { damageRoll: `${baseDice * diceMult}d6 + ${baseBonus}`, flavor: \"Divine Fury\" };\n}\n\n//---------------------------------- MY FUNCTIONS -------------------------------------\n\n// Function to test for an effect\nasync function findEffect(target, effectName) {\n    let effectUuid = null;\n    effectUuid = target?.effects.find(ef => ef.label === effectName);\n    return effectUuid;\n}","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"core":{"sourceId":"Item.5PUe0GiheEHUomoR"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.3"},"cf":{"id":"temp_92357bvnxs9","path":"DDB Override#/CF_SEP/Class Features","color":"#000000"},"midi-qol":{"onUseMacroName":""},"midiProperties":{},"ddbimporter":{"pack":"world.ddb-override","id":"1479249","entityTypeId":"222216831","action":true,"componentId":241,"componentTypeId":258900837,"class":"Barbarian","subclass":"Path of the Zealot","importId":"lbsrtmgv1xbfzi20","originalItemName":"Divine Fury","replaced":true}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"XGtE p11","activation":{"type":"special","cost":0,"condition":""},"duration":{"value":24,"units":"hour"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"","target":"","amount":null},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Barbarian Zealot Path","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286527,"modifiedTime":1671805171965,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"GQVo7Atu1GifqOMc"}
{"name":"Eyes of Night","type":"feat","img":"icons/magic/perception/silhouette-stealth-shadow.webp","effects":[{"_id":"WysKNsnpbFv2ZWLB","changes":[{"key":"ATL.dimSight","mode":2,"value":"300","priority":40}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/perception/silhouette-stealth-shadow.webp","label":"Eyes of Night","origin":"Item.BsbEEhiIUMijPdYz","transfer":true,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":true,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":"2409717","entityTypeId":"222216831","componentId":2996540,"componentTypeId":12168134,"class":"Cleric","subclass":"Twilight Domain","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"iyl0evwnfwrvm9lh"},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Cleric"}},"scene-packer":{"hash":"dcbcee67ee14416b8043fd48655d2602489a08ee","sourceId":"Item.yF7Bf89F7XCG81Y6"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Eyes of Night","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.BsbEEhiIUMijPdYz"},"cf":null,"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"TCoE p34","activation":{"type":"none","cost":null,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"ft"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Cleric Twilight Domain","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286508,"modifiedTime":1671805171967,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"n4pNGnnxcdDLYCpN"}
{"name":"Fey Presence","type":"feat","img":"icons/magic/perception/eye-ringed-glow-angry-large-teal.webp","effects":[],"flags":{"ddbimporter":{"id":"1035","entityTypeId":"222216831","componentId":396,"componentTypeId":12168134,"class":"Warlock","subclass":"The Archfey","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"py0qw85udlapktp3"},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Warlock"}},"link-item-resource-5e":{"resource-link":"primary"},"scene-packer":{"hash":"dc316af833575a26f682261e8d4330f4eb8904bf","sourceId":"Item.cr4bpsAI3I6WGGs2"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"midi-qol":{"effectActivation":false,"onUseMacroName":"[all]ItemMacro"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Fey Presence","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nFey Presence\n\nUSAGE: Usae ability when you character has an action\n\n- this ability targets evertything in a ten foot cube \n\nv1.0 May 7 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0].macroPass === \"preambleComplete\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    // prompt user for the fightened or charmed effect, store on the workflow as feyPresenceEffect \n    let dialog = new Promise((resolve) => {\n        new Dialog({\n            // localize this text\n            title: \"Fey Presence:\",\n            content: \"<p>Select the desired effect fightened or charmed?</p>\",\n            buttons: {\n                one: {\n                    icon: '<p> </p><img src = \"modules/dfreds-convenient-effects/images/frightened.svg\" width=\"60\" height=\"60\"></>',\n                    label: \"<p>Frightened</p>\",\n                    callback: () => resolve(\"Frightened\")\n                },\n                two: {\n                    icon: '<p> </p><img src = \"modules/dfreds-convenient-effects/images/charmed.svg\" width=\"60\" height=\"60\"></>',\n                    label: \"<p>Charmed</p>\",\n                    callback: () => { resolve(\"Charmed\") }\n                }\n            },\n            default: \"one\"\n        }).render(true);\n    });\n    let selectedEffect = await dialog;\n    await setProperty(workflow, \"feyPresenceEffect\", selectedEffect);\n\n} else if (args[0].macroPass === \"postActiveEffects\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    //for every target the failed the saving throw apply the selected feyPresenceEffect\n    let effect = getProperty(workflow, \"feyPresenceEffect\");\n    if (effect)\n        for (target of args[0].failedSaves) {\n            let targetActor = target.actor;\n            if (effect === \"Frightened\") await applyFrightenedEffect(targetActor, args);\n            else if (effect === \"Charmed\") await applyCharmedEffect(targetActor, args);\n            else ui.notifications.error(\"An error occured applying the effect.\");\n        }\n} return;\n\n// Apply the fightened effect to the target\nasync function applyFrightenedEffect(target, args) {\n    let effectData = {\n        label: \"Frightened\",\n        icon: \"modules/dfreds-convenient-effects/images/frightened.svg\",\n        origin: args.uuid,\n        changes: [\n            { \"key\": \"flags.midi-qol.disadvantage.attack.all\", \"value\": `1`, \"mode\": 0, \"priority\": 20 },\n            { \"key\": \"flags.midi-qol.disadvantage.ability.check.all\", \"value\": `1`, \"mode\": 0, \"priority\": 20 }\n        ],\n        disabled: false,\n        flags: {\n            dae: { specialDuration: [\"turnEndSource\"] },\n            core: { statusId: \"Convenient Effect: Frightened\" }\n        }\n    }\n    await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: target.uuid, effects: [effectData] });\n}\n\n// Apply the charmed effect to the target\nasync function applyCharmedEffect(target, args) {\n    let effectData = {\n        label: \"Charmed\",\n        icon: \"modules/dfreds-convenient-effects/images/charmed.svg\",\n        origin: args.uuid,\n        disabled: false,\n        flags: {\n            dae: { specialDuration: [\"turnEndSource\"] },\n            core: { statusId: \"Convenient Effect: Charmed\" }\n        }\n    }\n    await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: target.uuid, effects: [effectData] });\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Fey Presence","type":"script","scope":"global","command":"/*****\nFey Presence\n\nUSAGE: Usae ability when you character has an action\n\n- this ability targets evertything in a ten foot cube \n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0].macroPass === \"preambleComplete\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    // prompt user for the fightened or charmed effect, store on the workflow as feyPresenceEffect \n    let dialog = new Promise((resolve) => {\n        new Dialog({\n            // localize this text\n            title: \"Fey Presence:\",\n            content: \"<p>Select the desired effect fightened or charmed?</p>\",\n            buttons: {\n                one: {\n                    icon: '<p> </p><img src = \"modules/dfreds-convenient-effects/images/frightened.svg\" width=\"60\" height=\"60\"></>',\n                    label: \"<p>Frightened</p>\",\n                    callback: () => resolve(\"Frightened\")\n                },\n                two: {\n                    icon: '<p> </p><img src = \"modules/dfreds-convenient-effects/images/charmed.svg\" width=\"60\" height=\"60\"></>',\n                    label: \"<p>Charmed</p>\",\n                    callback: () => { resolve(\"Charmed\") }\n                }\n            },\n            default: \"one\"\n        }).render(true);\n    });\n    let selectedEffect = await dialog;\n    await setProperty(workflow, \"feyPresenceEffect\", selectedEffect);\n\n} else if (args[0].macroPass === \"postActiveEffects\") {\n    let workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    //for every target the failed the saving throw apply the selected feyPresenceEffect\n    let effect = getProperty(workflow, \"feyPresenceEffect\");\n    if (effect)\n        for (target of args[0].failedSaves) {\n            let targetActor = target.actor;\n            if (effect === \"Frightened\") await applyFrightenedEffect(targetActor, args);\n            else if (effect === \"Charmed\") await applyCharmedEffect(targetActor, args);\n            else ui.notifications.error(\"An error occured applying the effect.\");\n        }\n} return;\n\n// Apply the fightened effect to the target\nasync function applyFrightenedEffect(target, args) {\n    let effectData = {\n        label: \"Frightened\",\n        icon: \"modules/dfreds-convenient-effects/images/frightened.svg\",\n        origin: args.uuid,\n        changes: [\n            { \"key\": \"flags.midi-qol.disadvantage.attack.all\", \"value\": `1`, \"mode\": 0, \"priority\": 20 },\n            { \"key\": \"flags.midi-qol.disadvantage.ability.check.all\", \"value\": `1`, \"mode\": 0, \"priority\": 20 }\n        ],\n        disabled: false,\n        flags: {\n            dae: { specialDuration: [\"turnEndSource\"] },\n            core: { statusId: \"Convenient Effect: Frightened\" }\n        }\n    }\n    await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: target.uuid, effects: [effectData] });\n}\n\n// Apply the charmed effect to the target\nasync function applyCharmedEffect(target, args) {\n    let effectData = {\n        label: \"Charmed\",\n        icon: \"modules/dfreds-convenient-effects/images/charmed.svg\",\n        origin: args.uuid,\n        disabled: false,\n        flags: {\n            dae: { specialDuration: [\"turnEndSource\"] },\n            core: { statusId: \"Convenient Effect: Charmed\" }\n        }\n    }\n    await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: target.uuid, effects: [effectData] });\n}","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"},"core":{"sourceId":"Item.vVdMFnc57t6M6R6L"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB p109","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":10,"width":null,"units":"ft","type":"creature"},"range":{"value":null,"long":null,"units":"spec"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"charges","target":"","amount":1},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"wis","dc":null,"scaling":"spell"},"requirements":"Warlock: Fey Patron","recharge":{"value":null,"charged":false},"quantity":1,"weight":null,"price":null},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286463,"modifiedTime":1671805171971,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"YWRHfz4RFJrbWiof"}
{"name":"Gift of the Eyes of Night","type":"feat","img":"icons/magic/perception/silhouette-stealth-shadow.webp","effects":[{"_id":"eh177mjwrheqqh5w","changes":[{"key":"ATL.dimSight","mode":2,"value":"300","priority":40}],"disabled":false,"duration":{"startTime":null,"seconds":3600,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/perception/silhouette-stealth-shadow.webp","label":"Eyes of Night","origin":"Actor.4okcHmPmM1iBwyFs.Item.lpKBbM6Rsla8ZL64","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":false,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":"2409717","entityTypeId":"222216831","componentId":2996540,"componentTypeId":12168134,"class":"Cleric","subclass":"Twilight Domain","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"iyl0evwnfwrvm9lh"},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Cleric"}},"scene-packer":{"hash":"985b8cb3fc2611c015483a50be161f06e78b96b9","sourceId":"Item.lwAnptMvNOKS199M"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Eyes of Night","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.yLmIyy87Eh8dzywq"},"cf":null,"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"TCoE p34","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":4,"width":null,"units":"","type":"creature"},"range":{"value":10,"long":10,"units":"ft"},"uses":{"value":1,"max":"1","per":"lr","recovery":""},"consume":{"type":"attribute","target":"","amount":1},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Cleric Twilight Domain","recharge":{"value":null,"charged":false}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286451,"modifiedTime":1671805171972,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"9cVanayYByZMlENE"}
{"name":"Incisive Sense","type":"feat","img":"icons/equipment/back/cloak-hooded-green-gold.webp","effects":[{"_id":"f50j8dfdk7sz7lfe","changes":[{"key":"flags.midi-qol.advantage.skill.ins","mode":5,"value":"1","priority":20},{"key":"flags.midi-qol.advantage.skill.inv","mode":5,"value":"1","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/equipment/back/cloak-hooded-green-gold.webp","label":"Incisive Sense","origin":"Actor.6OUbrDvzBaKBNRuA.Item.VPKVVTDdrss5Yi0f","transfer":true,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":true},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false}},"tint":null}],"flags":{"ddbimporter":{"id":2821775,"type":"race","entityTypeId":1960452172,"dndbeyond":{"displayOrder":200},"importId":"8i3k4hbim8bho1dm"},"obsidian":{"source":{"type":"race"}},"scene-packer":{"hash":"0b10f710276760d25ab9e036563006bafef48338","sourceId":"Item.PC8jGgzwNeyxfaMY"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"},"core":{"sourceId":"Item.1AgaCsP9EpGaadae"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"EGtW p163","activation":{"type":"","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":null,"recovery":""},"consume":{"type":"","target":null,"amount":null},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Elf","recharge":{"value":null,"charged":false},"attunement":null},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286453,"modifiedTime":1671805171976,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"kfsxj4Sp53q8VNBT"}
{"name":"Inspiring Smite","type":"feat","img":"icons/magic/life/heart-cross-blue.webp","effects":[],"flags":{"_sheetTab":"description","entityorder":{"order":161},"dynamiceffects":{"effects":[],"alwaysActive":false,"equipActive":false},"favtab":{"isFavourite":true,"isFavorite":true},"midi-qol":{"effectActivation":false,"onUseMacroName":"[preItemRoll]ItemMacro"},"midiProperties":{"nodam":false,"halfdam":false,"fulldam":false,"rollOther":false,"critOther":false,"concentration":false,"magicdam":false,"magiceffect":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Inspiring Smite","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nInspiring Smite\n\nUSE: Must Manually triggered after channel divinity: Inspiring Smite to distribute healing pool\n\nNOTE: PARTS OF THIS AUTOMATION WERE TAKEN FROM \"MidiQOL Sample Items\" SPELL: LAY ON HANDS\nBy Author: Tim Poseney   https://gitlab.com/tposney/midi-qol\n\nv1.0 May 7 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0].macroPass === \"preItemRoll\") {\n  // get healthpool if not available send a notification\n  let healingPool = actor.getFlag(\"dae\", \"healingpool\");\n  if ((!healingPool) || (!healingPool > 0)) {\n    ui.notifications.warn(\"You either have no healing pool left or you have not used Channel Divinity: Inspiring Smite...\");\n    return false;\n  }\n\n  // check to make sure there is a target to heal and only one is selected\n  let theTarget = args[0].targets[0];\n  if ((!theTarget) || (args[0].targets.length > 1)) {\n    ui.notifications.warn(\"Please select a target to heal with Inspiring Smite\");\n    return false;\n  }\n\n  // does not work on undead/constructs - not sure if this is RAW but makes sense given Inspiring Smite \n  let invalid = [\"undead\", \"construct\"].some(type => (theTarget?.actor.data.data.details.type?.value || \"\").toLowerCase().includes(type));\n  if (invalid) {\n    ui.notifications.warn(\"Inspiring Smite can't affect undead/constructs\")\n    return false;\n  }\n\n  let targetToken = await fromUuid(args[0].targetUuids[0]);\n  let targetActor = targetToken.actor;\n  let targetDamage = targetActor.data.data.attributes.hp.max - targetActor.data.data.attributes.hp.value;\n\n  // prompt for how much to use...\n  let d = new Promise((resolve, reject) => {\n    let theDialog = new Dialog({\n      title: \"Inspiring Smite\",\n      content: `<p>Your targets current damage level: ${targetDamage}</p>\n                  <p>How many points to use? ${healingPool} left in your Healing Pool<input id=\"mqlohpoints\" type=\"number\" min=\"0\" step=\"1.0\" max=\"${healingPool}\"></input></p>`,\n      buttons: {\n        heal: {\n          icon: '<p></p><img src = \"icons/magic/life/heart-cross-blue.webp\" width=\"60\" height=\"60\"></>',\n          label: \"<p>HEAL</p>\",\n          callback: (html) => { resolve(Math.clamped(Math.floor(Number(html.find('#mqlohpoints')[0].value)), 0, healingPool)); }\n        },\n        abort: {\n          icon: '<p></p><img src = \"icons/svg/cancel.svg\" width=\"60\" height=\"60\"></>',\n          label: \"<p>CANCEL</p>\",\n          callback: () => { resolve(false) }\n        },\n      },\n      default: \"abort\",\n    }).render(true);\n  });\n  const consumed = await d;\n  if (!consumed) return false;\n\n  const workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n  const theItem = workflow.item;\n  let updates;\n  if (consumed > 0) {\n    updates = {\n      \"data.consume.amount\": Math.abs(consumed),\n      \"data.damage.parts\": [[`${Math.max(0, consumed)}`, \"healing\"]],\n      \"data.chatFlavor\": \"Inspiring Smite\"\n    };\n  }\n\n  // remove consumed from pool\n  healingPool = healingPool - consumed;\n  actor.setFlag(\"dae\", \"healingpool\", healingPool);\n\n  return theItem.update(updates);\n}\nreturn true;","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Inspiring Smite","type":"script","scope":"global","command":"/*****\nInspiring Smite\n\nUSE: Must Manually triggered after channel divinity: Inspiring Smite to distribute healing pool\n\nNOTE: PARTS OF THIS AUTOMATION WERE TAKEN FROM \"MidiQOL Sample Items\" SPELL: LAY ON HANDS\nBy Author: Tim Poseney   https://gitlab.com/tposney/midi-qol\n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0].macroPass === \"preItemRoll\") {\n  // get healthpool if not available send a notification\n  let healingPool = actor.getFlag(\"dae\", \"healingpool\");\n  if ((!healingPool) || (!healingPool > 0)) {\n    ui.notifications.warn(\"You either have no healing pool left or you have not used Channel Divinity: Inspiring Smite...\");\n    return false;\n  }\n\n  // check to make sure there is a target to heal and only one is selected\n  let theTarget = args[0].targets[0];\n  if ((!theTarget) || (args[0].targets.length > 1)) {\n    ui.notifications.warn(\"Please select a target to heal with Inspiring Smite\");\n    return false;\n  }\n\n  // does not work on undead/constructs - not sure if this is RAW but makes sense given Inspiring Smite \n  let invalid = [\"undead\", \"construct\"].some(type => (theTarget?.actor.system.details.type?.value || \"\").toLowerCase().includes(type));\n  if (invalid) {\n    ui.notifications.warn(\"Inspiring Smite can't affect undead/constructs\")\n    return false;\n  }\n\n  let targetToken = await fromUuid(args[0].targetUuids[0]);\n  let targetActor = targetToken.actor;\n  let targetDamage = targetActor.system.attributes.hp.max - targetActor.system.attributes.hp.value;\n\n  // prompt for how much to use...\n  let d = new Promise((resolve, reject) => {\n    let theDialog = new Dialog({\n      title: \"Inspiring Smite\",\n      content: `<p>Your targets current damage level: ${targetDamage}</p>\n                  <p>How many points to use? ${healingPool} left in your Healing Pool<input id=\"mqlohpoints\" type=\"number\" min=\"0\" step=\"1.0\" max=\"${healingPool}\"></input></p>`,\n      buttons: {\n        heal: {\n          icon: '<p></p><img src = \"icons/magic/life/heart-cross-blue.webp\" width=\"60\" height=\"60\"></>',\n          label: \"<p>HEAL</p>\",\n          callback: (html) => { resolve(Math.clamped(Math.floor(Number(html.find('#mqlohpoints')[0].value)), 0, healingPool)); }\n        },\n        abort: {\n          icon: '<p></p><img src = \"icons/svg/cancel.svg\" width=\"60\" height=\"60\"></>',\n          label: \"<p>CANCEL</p>\",\n          callback: () => { resolve(false) }\n        },\n      },\n      default: \"abort\",\n    }).render(true);\n  });\n  let consumed = await d;\n  if (!consumed) return false; \n  if (consumed > targetDamage) consumed = targetDamage;\n\n  const workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n  const theItem = workflow.item;\n  let updates;\n  if (consumed > 0) {\n    updates = {\n      \"data.consume.amount\": Math.abs(consumed),\n      \"data.damage.parts\": [[`${Math.max(0, consumed)}`, \"healing\"]],\n      \"data.chatFlavor\": \"Inspiring Smite\"\n    };\n  }\n\n  // remove consumed from pool\n  healingPool = healingPool - consumed;\n  actor.setFlag(\"dae\", \"healingpool\", healingPool);\n\n  return theItem.update(updates);\n}\nreturn true;","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"core":{"sourceId":"Item.IM2UCUasJLD5J7Fw"},"scene-packer":{"sourceId":"Item.Muchtk2t9BrhSGfu","hash":"7e932200872c166a21be54cac4f3e3d9a7c5a827"},"cf":{"id":"temp_ovon30cu8t"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>Immediately after you deal damage to a creature with your Divine Smite feature, you can use your Channel Divinity as a bonus action and distribute temporary hit points to creatures of your choice within 30 feet of you, which can include you. The total number of temporary hit points equals 2d8 + your level in this class, divided among the chosen creatures however you like.</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to use Channel Divinity: Inspiring Smite first, after you deal smite damage.</p>\n<p> </p>\n</details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v0.1 April 13 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"MOoT p.29","activation":{"type":"special","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":"","recovery":"","type":"lr"},"consume":{"type":"","target":"","amount":10},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"Inspiring Smite","critical":{"threshold":null,"damage":null},"damage":{"parts":[["10","healing"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Paladin: Oath of Glory","recharge":{"value":null,"charged":false},"featType":{"value":"","_deprecated":true},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true},"attributes":{"spelldc":10},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286512,"modifiedTime":1671805171980,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"wqG2sK2OBab9Xxjf"}
{"name":"Misty Escape","type":"feat","img":"icons/magic/control/debuff-energy-snare-brown.webp","effects":[],"flags":{"scene-packer":{"hash":"66d4806b55ff4917b0a9081265e991ce1448e646","sourceId":"Item.6bzoAplR7UQKKMIF"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Misty Escape","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nMisty Escape\n\nNOTE: PARTS OF THIS AUTOMATION WERE TAKEN FROM \"MIDI-SRD\" SPELL: MISTY STEP\nBy Author: Kandashi   https://github.com/kandashi/Dynamic-Effects-SRD\n\nv1.0 May 7 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git\n*****/\n\nif (args[0].macroPass === \"preItemRoll\") {\n    let pcToken = token;\n    let pcActor = token.actor.data.data;\n    const target = canvas.tokens.get(pcToken.tokenId) || token;\n\n    let range = canvas.scene.createEmbeddedDocuments(\"MeasuredTemplate\", [{\n        t: \"circle\",\n        user: game.user.id,\n        x: target.x + canvas.grid.size / 2,\n        y: target.y + canvas.grid.size / 2,\n        direction: 0,\n        distance: 60,\n        borderColor: \"#FF0000\",\n        flags: { DAESRD: { MistyEscape: { ActorId: pcActor.id } } }\n    }]);\n\n    range.then(result => {\n        let templateData = {\n            t: \"rect\",\n            user: game.user.id,\n            distance: 7.5,\n            direction: 45,\n            x: 0,\n            y: 0,\n            fillColor: game.user.color,\n            flags: { DAESRD: { MistyEscape: { ActorId: pcActor.id } } }\n        };\n\n        Hooks.once(\"createMeasuredTemplate\", deleteTemplatesAndMove);\n        let doc = new CONFIG.MeasuredTemplate.documentClass(templateData, { parent: canvas.scene });\n        let template = new game.dnd5e.canvas.AbilityTemplate(doc);\n        template.actorSheet = pcActor.sheet;\n        template.drawPreview();\n\n        // make character invisible with custom effect\n        applyTempInvisibilityEffect(actor, actor);\n\n        async function deleteTemplatesAndMove(template) {\n            let removeTemplates = canvas.templates.placeables.filter(i => i.data.flags.DAESRD?.MistyEscape?.ActorId === pcActor.id);\n            let templateArray = removeTemplates.map(function (w) { return w.id });\n            await target.data.document.update(canvas.grid.getSnappedPosition(template.data.x, template.data.y));\n            if (removeTemplates) await canvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", templateArray);\n        };\n    });\n} return;\n\n// Mark the character invisible until the start of thier next turn \n// or when the character attacks or casts a spell\nasync function applyTempInvisibilityEffect(target, actor) {\n    let effectData = {\n        label: \"Invisible\",\n        icon: \"modules/dfreds-convenient-effects/images/invisible.svg\",\n        origin: actor.uuid,\n        changes: [\n            { \"key\": \"flags.midi-qol.advantage.attack.all\", \"value\": `1`, \"mode\": 0, \"priority\": 20 },\n            { \"key\": \"flags.midi-qol.grants.disadvantage.attack.all\", \"value\": `1`, \"mode\": 0, \"priority\": 20 }\n        ],\n        disabled: false,\n        flags: {\n            dae: { specialDuration: [\"turnStartSource\", \"1Attack\"] },\n            core: { statusId: \"Convenient Effect: Invisible\" }\n        }\n    }\n    await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: target.uuid, effects: [effectData] });\n    return;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Misty Escape","type":"script","scope":"global","command":"/*****\nMisty Escape\n\nNOTE: PARTS OF THIS AUTOMATION WERE TAKEN FROM \"MIDI-SRD\" SPELL: MISTY STEP\nBy Author: Kandashi   https://github.com/kandashi/Dynamic-Effects-SRD\n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git\n*****/\n\nif (args[0].macroPass === \"preItemRoll\") {\n    let pcToken = token;\n    let pcActor = token.actor;\n    const target = canvas.tokens.get(pcToken.tokenId) || token;\n\n    let range = canvas.scene.createEmbeddedDocuments(\"MeasuredTemplate\", [{\n        t: \"circle\",\n        user: game.user.id,\n        x: target.x + canvas.grid.size / 2,\n        y: target.y + canvas.grid.size / 2,\n        direction: 0,\n        distance: 60,\n        borderColor: \"#FF0000\",\n        flags: { DAESRD: { MistyEscape: { ActorId: pcActor.id } } }\n    }]);\n\n    range.then(result => {\n        let templateData = {\n            t: \"rect\",\n            user: game.user.id,\n            distance: 7.5,\n            direction: 45,\n            x: 0,\n            y: 0,\n            fillColor: game.user.color,\n            flags: { DAESRD: { MistyEscape: { ActorId: pcActor.id } } }\n        };\n\n        Hooks.once(\"createMeasuredTemplate\", deleteTemplatesAndMove);\n        let doc = new CONFIG.MeasuredTemplate.documentClass(templateData, { parent: canvas.scene });\n        let template = new game.dnd5e.canvas.AbilityTemplate(doc);\n        template.actorSheet = pcActor.sheet;\n        template.drawPreview();\n\n        // make character invisible with custom effect\n        applyTempInvisibilityEffect(actor, actor);\n\n        async function deleteTemplatesAndMove(template) {\n            let removeTemplates = canvas.templates.placeables.filter(i => i.data.flags.DAESRD?.MistyEscape?.ActorId === pcActor.id);\n            let templateArray = removeTemplates.map(function (w) { return w.id });\n            await target.document.update(canvas.grid.getSnappedPosition(template.x, template.y));\n            if (removeTemplates) await canvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", templateArray);\n        };\n    });\n} return;\n\n// Mark the character invisible until the start of thier next turn \n// or when the character attacks or casts a spell\nasync function applyTempInvisibilityEffect(target, actor) {\n    let effectData = {\n        label: \"Invisible\",\n        icon: \"modules/dfreds-convenient-effects/images/invisible.svg\",\n        origin: actor.uuid,\n        changes: [\n            { \"key\": \"flags.midi-qol.advantage.attack.all\", \"value\": `1`, \"mode\": 0, \"priority\": 20 },\n            { \"key\": \"flags.midi-qol.grants.disadvantage.attack.all\", \"value\": `1`, \"mode\": 0, \"priority\": 20 }\n        ],\n        disabled: false,\n        flags: {\n            dae: { specialDuration: [\"turnStartSource\", \"1Attack\"] },\n            core: { statusId: \"Convenient Effect: Invisible\" }\n        }\n    }\n    await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: target.uuid, effects: [effectData] });\n    return;\n}","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"midi-qol":{"effectActivation":false,"onUseMacroName":"[preItemRoll]ItemMacro"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"core":{"sourceId":"Item.snMxepltm5UWo5KL"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB p109","activation":{"type":"reactiondamage","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"attribute","target":"","amount":1},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Warlock: The Archfey","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286472,"modifiedTime":1671805171984,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"qlIuo0YZAJdSFCww"}
{"name":"Preserve Life","type":"feat","img":"icons/magic/light/orb-beams-green.webp","effects":[],"flags":{"_sheetTab":"description","entityorder":{"order":161},"dynamiceffects":{"effects":[],"alwaysActive":false,"equipActive":false},"favtab":{"isFavourite":true,"isFavorite":true},"midi-qol":{"effectActivation":false,"onUseMacroName":"[preItemRoll]ItemMacro"},"midiProperties":{"nodam":false,"halfdam":false,"fulldam":false,"rollOther":false,"critOther":false,"concentration":false,"magicdam":false,"magiceffect":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Preserve Life","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nPreserve Life\n\nUSE: use this feature AFTER channel divinity: Preserve Life is triggered to create a healing pool\n\nNOTE: PARTS OF THIS AUTOMATION WERE TAKEN FROM \"MidiQOL Sample Items\" SPELL: LAY ON HANDS\nBy Author: Tim Poseney   https://gitlab.com/tposney/midi-qol\n\nv1.0 August 17 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0].macroPass === \"preItemRoll\") {\n    // get healthpool if not available send a notification\n    let lifehealingpool = actor.getFlag(\"dae\", \"lifehealingpool\");\n    if ((!lifehealingpool) || (!lifehealingpool > 0)) {\n        ui.notifications.warn(\"You either have no healing pool left or you have not used Channel Divinity: Preserve Life...\");\n        return false;\n    }\n\n    // check to make sure there is a target to heal and only one is selected\n    let theTarget = args[0].targets[0];\n    if ((!theTarget) || (args[0].targets.length > 1)) {\n        ui.notifications.warn(\"Please select a target to heal with Preserve Life\");\n        return false;\n    }\n\n    // does not work on undead/constructs - not sure if this is RAW but makes sense given Preserve Life \n    let invalid = [\"undead\", \"construct\"].some(type => (theTarget?.actor.data.data.details.type?.value || \"\").toLowerCase().includes(type));\n    if (invalid) {\n        ui.notifications.warn(\"Preserve Life can't affect undead/constructs\")\n        return false;\n    }\n\n    let targetToken = await fromUuid(args[0].targetUuids[0]);\n    let targetActor = targetToken.actor;\n    //Target can only be healed up to half their HP\n    let targetDamage = ((targetActor.data.data.attributes.hp.max / 2) - targetActor.data.data.attributes.hp.value);\n\n    if (targetDamage <= 0) {\n        ui.notifications.warn(\"Target is at or above half health\");\n        return false;    \n    }\n\n    // prompt for how much to use...\n    let d = new Promise((resolve, reject) => {\n        let theDialog = new Dialog({\n            title: \"Preserve Life\",\n            content: `<p>Your targets current damage level: ${targetDamage}</p>\n                    <p>How many points to use? ${lifehealingpool} left in your Healing Pool<input id=\"mqlohpoints\" type=\"number\" min=\"0\" step=\"1.0\" max=\"${lifehealingpool}\"></input></p>`,\n            buttons: {\n                heal: {\n                    icon: '<p></p><img src = \"icons/magic/life/heart-cross-blue.webp\" width=\"60\" height=\"60\"></>',\n                    label: \"<p>HEAL</p>\",\n                    callback: (html) => { resolve(Math.clamped(Math.floor(Number(html.find('#mqlohpoints')[0].value) / 2), 0, lifehealingpool)); }\n                },\n                abort: {\n                    icon: '<p></p><img src = \"icons/svg/cancel.svg\" width=\"60\" height=\"60\"></>',\n                    label: \"<p>CANCEL</p>\",\n                    callback: () => { resolve(false) }\n                },\n            },\n            default: \"abort\",\n        }).render(true);\n    });\n    const consumed = await d;\n    if (!consumed) return false;\n\n    const workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    const theItem = workflow.item;\n    let updates;\n    if (consumed > 0) {\n        updates = {\n            \"data.consume.amount\": Math.abs(consumed),\n            \"data.damage.parts\": [[`${Math.max(0, consumed)}`, \"healing\"]],\n            \"data.chatFlavor\": \"Preserve Life\"\n        };\n    }\n\n    // remove consumed from pool\n    lifehealingpool = lifehealingpool - consumed;\n    actor.setFlag(\"dae\", \"lifehealingpool\", lifehealingpool);\n\n    return theItem.update(updates);\n}\nreturn true;","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Preserve Life","type":"script","scope":"global","command":"/*****\nPreserve Life\n\nUSE: use this feature AFTER channel divinity: Preserve Life is triggered to create a healing pool\n\nNOTE: PARTS OF THIS AUTOMATION WERE TAKEN FROM \"MidiQOL Sample Items\" SPELL: LAY ON HANDS\nBy Author: Tim Poseney   https://gitlab.com/tposney/midi-qol\n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0].macroPass === \"preItemRoll\") {\n    // get healthpool if not available send a notification\n    let lifehealingpool = actor.getFlag(\"dae\", \"lifehealingpool\");\n    if ((!lifehealingpool) || (!lifehealingpool > 0)) {\n        ui.notifications.warn(\"You either have no healing pool left or you have not used Channel Divinity: Preserve Life...\");\n        return false;\n    }\n\n    // check to make sure there is a target to heal and only one is selected\n    let theTarget = args[0].targets[0];\n    if ((!theTarget) || (args[0].targets.length > 1)) {\n        ui.notifications.warn(\"Please select a target to heal with Preserve Life\");\n        return false;\n    }\n\n    // does not work on undead/constructs - not sure if this is RAW but makes sense given Preserve Life \n    let invalid = [\"undead\", \"construct\"].some(type => (theTarget?.actor.system.details.type?.value || \"\").toLowerCase().includes(type));\n    if (invalid) {\n        ui.notifications.warn(\"Preserve Life can't affect undead/constructs\")\n        return false;\n    }\n\n    let targetToken = await fromUuid(args[0].targetUuids[0]);\n    let targetActor = targetToken.actor;\n    //Target can only be healed up to half their HP\n    let targetDamage = ((targetActor.system.attributes.hp.max / 2) - targetActor.system.attributes.hp.value);\n\n    if (targetDamage <= 0) {\n        ui.notifications.warn(\"Target is at or above half health\");\n        return false;\n    }\n\n    // prompt for how much to use...\n    let d = new Promise((resolve, reject) => {\n        let theDialog = new Dialog({\n            title: \"Preserve Life\",\n            content: `<p>Your targets current damage level: ${targetDamage}</p>\n                    <p>How many points to use? ${lifehealingpool} left in your Healing Pool<input id=\"mqlohpoints\" type=\"number\" min=\"0\" step=\"1.0\" max=\"${lifehealingpool}\"></input></p>`,\n            buttons: {\n                heal: {\n                    icon: '<p></p><img src = \"icons/magic/light/orb-beams-green.webp\" width=\"60\" height=\"60\"></>',\n                    label: \"<p>HEAL</p>\",\n                    callback: (html) => { resolve(Math.clamped(Math.floor(Number(html.find('#mqlohpoints')[0].value) / 2), 0, lifehealingpool)); }\n                },\n                abort: {\n                    icon: '<p></p><img src = \"icons/svg/cancel.svg\" width=\"60\" height=\"60\"></>',\n                    label: \"<p>CANCEL</p>\",\n                    callback: () => { resolve(false) }\n                },\n            },\n            default: \"abort\",\n        }).render(true);\n    });\n    let consumed = await d;\n    if (!consumed) return false;\n    if (consumed > targetDamage) consumed = targetDamage;\n\n    const workflow = MidiQOL.Workflow.getWorkflow(args[0].uuid);\n    const theItem = workflow.item;\n    let updates;\n    if (consumed > 0) {\n        updates = {\n            \"data.consume.amount\": Math.abs(consumed),\n            \"data.damage.parts\": [[`${Math.max(0, consumed)}`, \"healing\"]],\n            \"data.chatFlavor\": \"Preserve Life\"\n        };\n    }\n\n    // remove consumed from pool\n    lifehealingpool = lifehealingpool - consumed;\n    actor.setFlag(\"dae\", \"lifehealingpool\", lifehealingpool);\n\n    return theItem.update(updates);\n}\nreturn true;","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"core":{"sourceId":"Item.IM2UCUasJLD5J7Fw"},"scene-packer":{"sourceId":"Item.EOsMVAAneGunFjeW","hash":"14028bd6aa70a68ce61cc02be1503c154e30728f"},"cf":{"id":"temp_ovon30cu8t"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.3"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<p><strong>SETUP:</strong></p>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<p> </p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 August 17 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB p194","activation":{"type":"special","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":"","recovery":"","type":"lr"},"consume":{"type":"","target":"","amount":2},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"Preserve Life","critical":{"threshold":null,"damage":null},"damage":{"parts":[["2","healing"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Cleric: Life Domain","recharge":{"value":null,"charged":false},"featType":{"value":"","_deprecated":true},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true},"attributes":{"spelldc":10},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286532,"modifiedTime":1671805171987,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"SmMEc7DWWOGJfbyb"}
{"name":"Psionic Die","type":"feat","img":"icons/sundries/gaming/dice-runed-brown.webp","effects":[{"_id":"UgB9349LhJU4nKsd","changes":[{"key":"macro.itemMacro","mode":0,"value":"","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/sundries/gaming/dice-runed-brown.webp","label":"Psionic Die","origin":"Item.H14LgNk3j1O3e3FV","transfer":true,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":true,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"dnd5e-helpers":{"rest-effect":"Ignore"},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":"1023","entityTypeId":"222216831","componentId":209,"componentTypeId":12168134,"class":"Fighter","subclass":"Battle Master","dndbeyond":{"levelScale":{"id":12,"level":7,"description":"d8","dice":{"diceCount":5,"diceValue":8,"diceMultiplier":null,"fixedValue":null,"diceString":"5d8"},"fixedValue":null},"levelScales":[{"id":11,"level":1,"description":"d8","dice":{"diceCount":4,"diceValue":8,"diceMultiplier":null,"fixedValue":null,"diceString":"4d8"},"fixedValue":null},{"id":12,"level":7,"description":"d8","dice":{"diceCount":5,"diceValue":8,"diceMultiplier":null,"fixedValue":null,"diceString":"5d8"},"fixedValue":null},{"id":13,"level":10,"description":"d10","dice":{"diceCount":5,"diceValue":10,"diceMultiplier":null,"fixedValue":null,"diceString":"5d10"},"fixedValue":null},{"id":14,"level":15,"description":"d10","dice":{"diceCount":6,"diceValue":10,"diceMultiplier":null,"fixedValue":null,"diceString":"6d10"},"fixedValue":null},{"id":15,"level":18,"description":"d12","dice":{"diceCount":6,"diceValue":12,"diceMultiplier":null,"fixedValue":null,"diceString":"6d12"},"fixedValue":null}],"limitedUse":[{"level":null,"uses":1}]},"importId":"ye6nz9f4x9n3v7lu","ignoreIcon":true,"ignoreItemImport":true,"retainResourceConsumption":true},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Fighter"}},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"midi-qol":{"effectActivation":false,"onUseMacroName":""},"midiProperties":{"nodam":false,"halfdam":false,"fulldam":false,"rollOther":false,"critOther":false,"concentration":false,"magicdam":false,"magiceffect":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"scene-packer":{"hash":"482f55651d9b1ed04d96789954042bacbbe31ac9","sourceId":"Item.dVJQZHHm4wXGABOE"},"core":{"sourceId":"Item.8gdA6c8j5GnkX33K"},"itemacro":{"macro":{"data":{"_id":null,"name":"Psionic Die","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nPsionic Power: Psionic Power\n\nUSEAGE : PASSIVE\nThis energy is represented by your Psionic Energy dice, which are each a d6. \nYou have a number of these dice equal to twice your proficiency bonus, and \nthey fuel various psionic powers you have, which are detailed below.\n\nv1.0 May 7 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0] === \"on\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n    let rogueLevel = testClass(pcActor, \"rogue\", \"Soulknife\", 3)?.levels ?? 0;\n    if (!rogueLevel) {\n        ui.notifications.error(\"You are not a Rogue: Soulknife of at least 3rd level.\");\n        return;\n    }\n    let flagData;\n    if (rogueLevel > 16) flagData = \"+ 1d12\";\n    else if (rogueLevel > 10) flagData = \"+ 1d10\";\n    else if (rogueLevel > 4) flagData = \"+ 1d8\";\n    else if (rogueLevel > 0) flagData = \"+ 1d6\";\n    pcActor.setFlag(\"dae\", \"PsionicDie\", flagData)\n\n} else if (args[0] === \"off\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n    pcActor.unsetFlag(\"dae\", \"PsionicDie\");\n}\n\n// Test PC Class, Subclass and Class Level\n// RETURN the class object (TRUE) or null (FALSE)\nfunction testClass(testActor, className, subClassName, levels) {\n    let theClass = testActor.data.data.classes[className];\n    if (theClass) {\n        if ((levels > 0) && (theClass.levels >= levels)) {\n            if (subClassName === null || (theClass.subclass === subClassName)) {\n                return theClass;\n            }\n        }\n    }\n    return null;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Psionic Die","type":"script","scope":"global","command":"/*****\nPsionic Power: Psionic Power\n\nUSEAGE : PASSIVE\nThis energy is represented by your Psionic Energy dice, which are each a d6. \nYou have a number of these dice equal to twice your proficiency bonus, and \nthey fuel various psionic powers you have, which are detailed below.\n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git \n*****/\n\nif (args[0] === \"on\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n    let rogueLevel = testClass(pcActor, \"rogue\", \"soulknife\", 3)?.system.levels ?? 0;\n    if (!rogueLevel) {\n        ui.notifications.error(\"You are not a Rogue: Soulknife of at least 3rd level.\");\n        return;\n    }\n    let flagData;\n    if (rogueLevel > 16) flagData = \"+ 1d12\";\n    else if (rogueLevel > 10) flagData = \"+ 1d10\";\n    else if (rogueLevel > 4) flagData = \"+ 1d8\";\n    else if (rogueLevel > 0) flagData = \"+ 1d6\";\n    pcActor.setFlag(\"dae\", \"PsionicDie\", flagData)\n\n} else if (args[0] === \"off\") {\n    const pcActor = await fromUuid(args[args.length - 1].actorUuid);\n    pcActor.unsetFlag(\"dae\", \"PsionicDie\");\n}\n\n// Test PC Class, Subclass and Class Level\n// RETURN the class object (TRUE) or null (FALSE)\nfunction testClass(testActor, className, subClassName, levels) {\n    let theClass = testActor.classes.rogue;\n    if (theClass) {\n        if ((levels > 0) && (theClass.system.levels >= levels)) {\n            if (subClassName === null || (theClass.system.subclass.identifier === subClassName)) {\n                return theClass;\n            }\n        }\n    }\n    return null;\n}","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"},"favtab":{"isFavorite":true},"cf":{"id":"temp_fgyhz98iq6m","path":"DDB Override#/CF_SEP/Battlemaster Maneuvers","color":"#000000"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>SETUP:</strong></summary>\n<p>Please remember to link the use of this ability to a character sheet resource under the item details Resource Consumption dropdown.</p>\n<img src=\"https://user-images.githubusercontent.com/76136571/161775726-fb67bb97-5fd1-45c5-8301-bbb17e2d0f1d.png\" width=\"569\" /></details>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB","activation":{"type":"","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":null,"long":null,"units":""},"uses":{"value":0,"max":"","per":"","recovery":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Rogue: Soulknife","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286523,"modifiedTime":1671805171989,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"yNn7E9Rq1Z2z1VYS"}
{"name":"Shadow Step","type":"feat","img":"icons/magic/control/debuff-energy-snare-brown.webp","effects":[{"_id":"Maol11OcLygv28wa","changes":[{"key":"flags.midi-qol.advantage.attack.all","mode":0,"value":"1","priority":20}],"disabled":false,"duration":{"startTime":null,"turns":1,"seconds":null,"combat":null,"rounds":null,"startRound":null,"startTurn":null},"icon":"icons/magic/control/debuff-energy-snare-brown.webp","label":"Shadow Step","origin":"Item.B2VMCdTeSXIiKeZJ","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":["1Attack"],"transfer":false,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"scene-packer":{"hash":"d9f35b90a13ccf88fffd4aa049e884c18e43d19b","sourceId":"Item.wwXUiJRyeuN0k72W"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Shadow Step","type":"script","author":"ldRsJ6Yp5qPydWA1","img":"icons/svg/dice-target.svg","scope":"global","command":"/*****\nShadow Step\n\nNOTE: PARTS OF THIS AUTOMATION WERE TAKEN FROM \"MIDI-SRD\" SPELL: MISTY STEP\nBy Author: Kandashi   https://github.com/kandashi/Dynamic-Effects-SRD\n\nv1.0 May 7 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git\n*****/\n\nif (args[0].macroPass === \"preItemRoll\") {\n    let pcToken = token;\n    let pcActor = token.actor.data.data;\n    const target = canvas.tokens.get(pcToken.tokenId) || token;\n\n    let range = canvas.scene.createEmbeddedDocuments(\"MeasuredTemplate\", [{\n        t: \"circle\",\n        user: game.user.id,\n        x: target.x + canvas.grid.size / 2,\n        y: target.y + canvas.grid.size / 2,\n        direction: 0,\n        distance: 60,\n        borderColor: \"#FF0000\",\n        flags: { DAESRD: { ShadowStep: { ActorId: pcActor.id } } }\n    }]);\n\n    range.then(result => {\n        let templateData = {\n            t: \"rect\",\n            user: game.user.id,\n            distance: 7.5,\n            direction: 45,\n            x: 0,\n            y: 0,\n            fillColor: game.user.color,\n            flags: { DAESRD: { ShadowStep: { ActorId: pcActor.id } } }\n        };\n\n        Hooks.once(\"createMeasuredTemplate\", deleteTemplatesAndMove);\n        let doc = new CONFIG.MeasuredTemplate.documentClass(templateData, { parent: canvas.scene });\n        let template = new game.dnd5e.canvas.AbilityTemplate(doc);\n        template.actorSheet = pcActor.sheet;\n        template.drawPreview();\n\n        async function deleteTemplatesAndMove(template) {\n            let removeTemplates = canvas.templates.placeables.filter(i => i.data.flags.DAESRD?.MistyEscape?.ActorId === pcActor.id);\n            let templateArray = removeTemplates.map(function (w) { return w.id });\n            await target.data.document.update(canvas.grid.getSnappedPosition(template.data.x, template.data.y));\n            if (removeTemplates) await canvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", templateArray);\n        };\n    });\n} return;","folder":null,"sort":0,"permission":{"default":0},"flags":{}},"name":"Shadow Step","type":"script","scope":"global","command":"/*****\nShadow Step\n\nNOTE: PARTS OF THIS AUTOMATION WERE TAKEN FROM \"MIDI-SRD\" SPELL: MISTY STEP\nBy Author: Kandashi   https://github.com/kandashi/Dynamic-Effects-SRD\n\nv2.0 December 18 2022 jbowens #0415 (Discord) https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git\n*****/\n\nif (args[0].macroPass === \"preItemRoll\") {\n    let pcToken = token;\n    let pcActor = token.actor;\n    const target = canvas.tokens.get(pcToken.tokenId) || token;\n\n    let range = canvas.scene.createEmbeddedDocuments(\"MeasuredTemplate\", [{\n        t: \"circle\",\n        user: game.user.id,\n        x: target.x + canvas.grid.size / 2,\n        y: target.y + canvas.grid.size / 2,\n        direction: 0,\n        distance: 60,\n        borderColor: \"#FF0000\",\n        flags: { DAESRD: { ShadowStep: { ActorId: pcActor.id } } }\n    }]);\n\n    range.then(result => {\n        let templateData = {\n            t: \"rect\",\n            user: game.user.id,\n            distance: 7.5,\n            direction: 45,\n            x: 0,\n            y: 0,\n            fillColor: game.user.color,\n            flags: { DAESRD: { ShadowStep: { ActorId: pcActor.id } } }\n        };\n\n        Hooks.once(\"createMeasuredTemplate\", deleteTemplatesAndMove);\n        let doc = new CONFIG.MeasuredTemplate.documentClass(templateData, { parent: canvas.scene });\n        let template = new game.dnd5e.canvas.AbilityTemplate(doc);\n        template.actorSheet = pcActor.sheet;\n        template.drawPreview();\n\n        async function deleteTemplatesAndMove(template) {\n            let removeTemplates = canvas.templates.placeables.filter(i => i.data.flags.DAESRD?.ShadowStep?.ActorId === pcActor.id);\n            let templateArray = removeTemplates.map(function (w) { return w.id });\n            await target.document.update(canvas.grid.getSnappedPosition(template.x, template.y));\n            if (removeTemplates) await canvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", templateArray);\n        };\n    });\n} return;","author":"paMZuKDupk0GHKFn","_id":null,"img":"icons/svg/dice-target.svg","folder":null,"sort":0,"ownership":{"default":0},"flags":{},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"midi-qol":{"effectActivation":false,"onUseMacroName":"[preItemRoll]ItemMacro"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"core":{"sourceId":"Item.snMxepltm5UWo5KL"},"favtab":{"isFavorite":true},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB p80","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Monk: Way of the Shadow","recharge":{"value":null,"charged":false},"attunement":0},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286501,"modifiedTime":1671805171992,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"DPq86qUyzFQEm9vf"}
{"name":"Steps of Night","type":"feat","img":"icons/magic/control/debuff-energy-snare-brown.webp","effects":[{"_id":"ioxb7mkofb3lhcvi","changes":[{"key":"system.attributes.movement.fly","mode":2,"value":"@data.attributes.movement.walk","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":60,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/control/debuff-energy-snare-brown.webp","label":"Steps of Night","origin":"Actor.4okcHmPmM1iBwyFs.Item.smt73dN8B1zU5F8r","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":false,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"scene-packer":{"hash":"1716108aa7f5a72a92dfac3df0c4140e52f9dc72","sourceId":"Item.mpc5OSjcj3qutbPx"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"core":{"sourceId":"Item.ii0ZfozCkVZ5vtpD"},"cf":null,"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"TCoE p34","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"attribute","target":"","amount":1},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Cleric Twilight Domain","recharge":{"value":null,"charged":false}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286493,"modifiedTime":1671805171993,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"CVKDZhpfWYQNXZsD"}
{"name":"Stunning Strike","type":"feat","img":"icons/skills/melee/unarmed-punch-fist.webp","effects":[{"_id":"36l6rpnrn6pnifja","changes":[{"key":"flags.midi-qol.fail.ability.save.dex","mode":0,"value":"1","priority":20},{"key":"flags.midi-qol.fail.ability.save.str","mode":0,"value":"1","priority":20},{"key":"flags.midi-qol.grants.advantage.attack.all","mode":0,"value":"1","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"modules/dfreds-convenient-effects/images/stunned.svg","label":"Stunned","origin":"Actor.0VGsg2mP5ntj0F1K.Item.SOmjuGeXM3tOoCcQ","transfer":false,"flags":{"core":{"statusId":"Convenient Effect: Stunned"},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":["turnEndSource"],"transfer":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false}},"tint":null}],"flags":{"ddbimporter":{"id":"53367","entityTypeId":"222216831","componentId":235,"componentTypeId":12168134,"class":"Monk","subclass":"Way of the Open Hand","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"sf7t9giix783op3r"},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Monk"}},"scene-packer":{"hash":"09463dc292ee58bceaccd6beb3d95829415919da","sourceId":"Item.itQzyEAGpwlQIdCP"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"},"core":{"sourceId":"Item.65JCPKMXmrWwYm6o"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB p78","activation":{"type":"special","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":null,"width":null,"units":"touch","type":"creature"},"range":{"value":5,"long":null,"units":"ft"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"charges","target":"","amount":1},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"con","dc":null,"scaling":"wis"},"requirements":"Monk","recharge":{"value":null,"charged":false}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286486,"modifiedTime":1671805171994,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"OOH7zweQgFhPve3d"}
{"name":"Vigilant Blessing","type":"feat","img":"icons/magic/symbols/cog-shield-white-blue.webp","effects":[{"_id":"7BtDouaCOCQRMIQi","changes":[{"key":"flags.dnd5e.initiativeAdv","mode":0,"value":"1","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/symbols/cog-shield-white-blue.webp","label":"Vigilant Blessing","origin":"Item.ece8DHmOzO5m70tX","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":["turnStartSource"],"transfer":false,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":2996547,"data":{"id":2996547,"name":"Vigilant Blessing","prerequisite":null,"description":"<p><em>1st-level Twilight Domain feature</em></p>\r\n<p>The night has taught you to be vigilant. As an action, you give one creature you touch (including possibly yourself) advantage on the next initiative roll the creature makes. This benefit ends immediately after the roll or if you use this feature again.</p>","requiredLevel":1,"displayOrder":4},"version":"2.9.8","featureId":2996547,"requiredLevel":1,"prerequisite":null,"class":"Twilight Domain","classId":654582,"subClass":"Twilight Domain"},"obsidian":{"source":{"type":"class","text":"Twilight Domain"}},"core":{"sourceId":"Compendium.world.ddb-class-features.M3GMQIicjInJPUhD"},"scene-packer":{"hash":"55172097a33954b707cd5db541518a00e802bc1c","sourceId":"Item.jAOZNxhJJJpFuNi5"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"cf":null,"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"TCoE p34","activation":{"type":"","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":null,"recovery":""},"consume":{"type":"","target":null,"amount":null},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Cleric: Twilight Domain","recharge":{"value":null,"charged":false}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286481,"modifiedTime":1671805171997,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"YggRfq2pTqHmXT9K"}
{"name":"Wrath of the Storm","type":"feat","img":"icons/magic/lightning/bolts-forked-large-orange.webp","effects":[],"flags":{"ddbimporter":{"id":"1018","entityTypeId":"222216831","componentId":149,"componentTypeId":12168134,"class":"Cleric","subclass":"Tempest Domain","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"sqffc9kk1ucpsf5y","ignoreIcon":false,"ignoreItemImport":false,"retainResourceConsumption":true},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Cleric"}},"link-item-resource-5e":{"resource-link":""},"scene-packer":{"hash":"e19de5a7b814295b6fabb29bc60fa949fb4df36b","sourceId":"Item.Etup7yiq6E7lMV3e"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"midi-qol":{"effectActivation":false,"onUseMacroName":""},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":true,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"core":{"sourceId":"Item.Fvl2VJyfemTViUHw"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"PHB p62","activation":{"type":"reaction","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"enemy"},"range":{"value":5,"long":null,"units":"ft"},"uses":{"value":2,"max":"2","per":"lr","recovery":""},"consume":{"type":"charges","target":"","amount":1},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["2d8[lightning]","lightning"]],"versatile":""},"formula":"","save":{"ability":"dex","dc":null,"scaling":"spell"},"requirements":"Cleric: Tempest","recharge":{"value":null,"charged":false},"attunement":null},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286454,"modifiedTime":1671805172002,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"2G0bVPKKQXYgmsju"}
{"name":"Zealous Presence","type":"feat","img":"icons/creatures/magical/construct-iron-stomping-yellow.webp","effects":[{"_id":"xrxfjgozwcowrenv","changes":[{"key":"flags.midi-qol.advantage.attack.all","mode":0,"value":"1","priority":20},{"key":"flags.midi-qol.advantage.ability.save.all","mode":0,"value":"1","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/creatures/magical/construct-iron-stomping-yellow.webp","label":"Zealous Presence","origin":"Actor.uQOmYSCbRfODlmLf.Item.juMtQeO7Dyz3rDlO","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":["turnStartSource"],"transfer":false,"selfTarget":false,"selfTargetAlways":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false},"effective-transferral":{"transferBlock":{"button":false,"chat":false,"displayCard":false},"transferrable":{"self":true,"target":true}}},"tint":null}],"flags":{"ddbimporter":{"id":"5181","entityTypeId":"222216831","componentId":647,"componentTypeId":12168134,"class":"Barbarian","subclass":"Path of the Zealot","dndbeyond":{"levelScale":null,"levelScales":[],"limitedUse":[{"level":null,"uses":1}]},"importId":"pmwzriev72c0n6wr","ignoreIcon":false,"ignoreItemImport":false,"retainResourceConsumption":true},"infusions":{"infused":false},"obsidian":{"source":{"type":"class","text":"Barbarian"}},"link-item-resource-5e":{"resource-link":"secondary"},"scene-packer":{"hash":"ba20b42983e14b241ecd8241ed3648ec0fe4a6c5","sourceId":"Item.0pqlNHCUK8iBiQfQ"},"spellTemplateManager":{"stmData":{"ignoreDuration":false,"spellTexture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true}},"midi-qol":{"effectActivation":false,"onUseMacroName":""},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"autoFailFriendly":false,"offHandWeapon":false,"ignoreTotalCover":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"core":{"sourceId":"Item.Kjv6xBCHzbdiD9uE"},"exportSource":{"world":"test","system":"dnd5e","coreVersion":"9.269","systemVersion":"1.6.1"}},"system":{"description":{"value":"<p>[PLACE YOUR DESCRIPTION HERE]</p>\n<p> </p>\n<details>\n<summary><strong>VERSION INFO</strong></summary>\n<p>v1.0 May 7 2022</p>\n<p>jbowens #0415 (Discord)</p>\n<p>https://github.com/jbowensii/More-Automated-Spells-Items-and-Feats.git</p>\n</details>","chat":"","unidentified":""},"source":"XGtE p11","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":10,"width":null,"units":"","type":"ally"},"range":{"value":60,"long":null,"units":"ft"},"uses":{"value":1,"max":"1","per":"lr","recovery":""},"consume":{"type":"charges","target":"","amount":1},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Barbarian: Path of the Zealot","recharge":{"value":null,"charged":false},"attunement":null},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1671193286477,"modifiedTime":1671805172004,"lastModifiedBy":"paMZuKDupk0GHKFn"},"folder":null,"sort":0,"ownership":{"default":0,"paMZuKDupk0GHKFn":3},"_id":"Fs64lF8ddHSOEkyc"}
